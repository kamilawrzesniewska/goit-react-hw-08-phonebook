{"version":3,"file":"static/js/932.3666c120.chunk.js","mappings":"4RAQMA,EAASC,EAAAA,GAAAA,IAAH,uIASNC,EAAaD,EAAAA,GAAAA,GAAH,0KAUVE,EAAWF,EAAAA,GAAAA,IAAH,mJASRG,EAAQH,EAAAA,GAAAA,MAAH,ilBA4BLI,EAAOJ,EAAAA,GAAAA,KAAH,gJASJK,EAAML,EAAAA,GAAAA,OAAH,qSAgGT,UA9EyB,WACvB,OAAiBM,EAAAA,EAAAA,MAAVC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAY,mCAAG,WAAMC,GAAN,wFACbC,EAAOD,EAAIE,OAEAC,EAGbF,EAHFE,KAAQC,MACQC,EAEdJ,EAFFI,MAASD,MACUE,EACjBL,EADFK,SAAYF,MAGRG,EAAc,CAAEJ,KAAAA,EAAME,MAAAA,EAAOC,SAAAA,GACnCN,EAAIQ,iBATe,SAUbd,EAAOa,GACVE,SACAC,MAAK,gBAAGC,EAAH,EAAGA,MAAH,OAAeC,EAAAA,EAAAA,IAAY,QAASD,EAApC,IACLD,MAAK,kBAAMf,EAAS,YAAf,IACLkB,OAAM,WACLC,EAAAA,GAAAA,KAAW,8CACZ,IAhBgB,OAiBbH,EAAQC,EAAAA,EAAAA,IAAY,SAC1Bf,GAASkB,EAAAA,EAAAA,IAASJ,IAElBV,EAAKe,QApBc,2CAAH,sDAuBlB,OACE,UAAC9B,EAAD,YACE,SAACE,EAAD,uBACA,kBAAM6B,SAAUlB,EAAhB,WACE,SAACV,EAAD,WACE,8BACE,SAACC,EAAD,CACE4B,KAAK,QACLf,KAAK,QACLgB,QAAQ,0CACRC,MAAM,2EACNC,UAAQ,EACRC,YAAY,OAEd,SAAC/B,EAAD,0BAGJ,SAACF,EAAD,WACE,8BACE,SAACC,EAAD,CACE4B,KAAK,OACLf,KAAK,OACLiB,MAAM,yBACNC,UAAQ,EACRC,YAAY,OAEd,SAAC/B,EAAD,yBAGJ,SAACF,EAAD,WACE,8BACE,SAACC,EAAD,CACE4B,KAAK,WACLf,KAAK,WACLgB,QAAQ,uCACRC,MAAM,6GACNC,UAAQ,EACRC,YAAY,OAEd,SAAC/B,EAAD,6BAGJ,SAACF,EAAD,WACE,SAACG,EAAD,CAAK0B,KAAK,SAAV,4BAKT,C,uBCvKD,SAASK,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChB1B,EAAQ2B,EAAK3B,KAInB,CAHE,MAAO4B,GAEP,YADAN,EAAOM,EAET,CAEID,EAAKE,KACPR,EAAQrB,GAER8B,QAAQT,QAAQrB,GAAOM,KAAKiB,EAAOC,EAEvC,CAEe,SAASO,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIN,SAAQ,SAAUT,EAASC,GACpC,IAAIF,EAAMY,EAAGK,MAAMJ,EAAME,GAEzB,SAASZ,EAAMvB,GACbmB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQxB,EAClE,CAEA,SAASwB,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,EACnE,CAEAf,OAAMgB,EACR,GACF,CACF,C","sources":["pages/RegistrationPage.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useSignupMutation } from 'services/phonebookApi';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport { addToken } from 'components/redux/Actions';\nimport { useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport Cookies from 'js-cookie';\n\nconst Center = styled.div`\n  position: relative;\n  padding: 50px 25px;\n  background: #fff;\n  max-width: 400px;\n  margin: 0 auto;\n  \n`;\n\nconst MainHeader = styled.h1`\n  font-size: 2em;\n  padding: 10px;\n  color: #000;\n  letter-spacing: 5px;\n  margin-bottom: 60px;\n  font-weight: bold;\n  padding-left: 10px;\n`;\n\nconst Inputbox = styled.div`\n  position: relative;\n  max-width: 100%;\n  height: 50px;\n  margin-bottom: 50px;\n  &:last-child {\n  margin-bottom: 0;\n`;\n\nconst Input = styled.input`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  border: 2px solid #000;\n  outline: none;\n  background: none;\n  padding: 10px;\n  border-radius: 10px;\n  font-size: 1.2em;\n  box-sizing: border-box;\n  &:focus ~ span {\n    transform: translateX(-13px) translateY(-35px);\n    font-size: 1em;\n  }\n  &:not(:placeholder-shown) ~ span {\n    color: red;\n    transform: translateX(-13px) translateY(-35px);\n    font-size: 1em;\n  }\n  &:valid ~ span {\n    color: #grey;\n    transform: translateX(-13px) translateY(-35px);\n    font-size: 1em;\n  }\n`;\n\nconst Span = styled.span`\n  position: absolute;\n  top: 14px;\n  left: 20px;\n  font-size: 1em;\n  transition: 0.6s;\n  font-family: sans-serif;\n`;\n\nconst Btn = styled.button`\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 2px solid #000;\n  outline: none;\n  background: none;\n  padding: 10px;\n  border-radius: 10px;\n  font-size: 1.2em;\n  width: 50%;\n  background: grey;\n  color: #fff;\n  border: #fff;\n  }\n`;\n\nconst RegistrationPage = () => {\n  const [signup] = useSignupMutation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const handleSubmit = async evt => {\n    const form = evt.target;\n    const {\n      name: { value: name },\n      email: { value: email },\n      password: { value: password },\n    } = form;\n\n    const credentials = { name, email, password };\n    evt.preventDefault();\n    await signup(credentials)\n      .unwrap()\n      .then(({ token }) => Cookies.set('token', token))\n      .then(() => navigate('/contacts'))\n      .catch(() => {\n        toast.warn('User with this email address already exists');\n      });\n    const token = Cookies.get('token');\n    dispatch(addToken(token));\n\n    form.reset();\n  };\n\n  return (\n    <Center>\n      <MainHeader>Sign up</MainHeader>\n      <form onSubmit={handleSubmit}>\n        <Inputbox>\n          <label>\n            <Input\n              type=\"email\"\n              name=\"email\"\n              pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n              title=\"Please enter your e-mail address (example: characters@characters.domain)\"\n              required\n              placeholder=\" \"\n            />\n            <Span>Email</Span>\n          </label>\n        </Inputbox>\n        <Inputbox>\n          <label>\n            <Input\n              type=\"text\"\n              name=\"name\"\n              title=\"Please enter your name\"\n              required\n              placeholder=\" \"\n            />\n            <Span>Name</Span>\n          </label>\n        </Inputbox>\n        <Inputbox>\n          <label>\n            <Input\n              type=\"password\"\n              name=\"password\"\n              pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\n              title=\"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters\"\n              required\n              placeholder=\" \"\n            />\n            <Span>Password</Span>\n          </label>\n        </Inputbox>\n        <Inputbox>\n          <Btn type=\"submit\">Sign up</Btn>\n        </Inputbox>\n      </form>\n    </Center>\n  );\n};\n\nexport default RegistrationPage;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["Center","styled","MainHeader","Inputbox","Input","Span","Btn","useSignupMutation","signup","navigate","useNavigate","dispatch","useDispatch","handleSubmit","evt","form","target","name","value","email","password","credentials","preventDefault","unwrap","then","token","Cookies","catch","toast","addToken","reset","onSubmit","type","pattern","title","required","placeholder","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}